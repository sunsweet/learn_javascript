<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>rgbcolor2hexcolor</title>
</head>
<body>
    <script>
        function colorDeal(str) {
            var pattern = /rgb\(\d{1,3}, \d{1,3}, \d{1,3}\)/gi;   //匹配rgb(23, 34, 67)的字符串
            var result = str.replace(pattern,function(match, index) {
                return rgb2hex(match);
            });
            return result;
        }

        function rgb2hex(str) {
            var pattern = /rgb\((\d{1,3}), (\d{1,3}), (\d{1,3})\)/;
            var result = str.match(pattern);   //抓取 rgb里的数字
            var r = parseInt(result[1]), g = parseInt(result[2]), b = parseInt(result[3]); //注意一定要把字符串数字转成number类型
            return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);   //转16进制
        }
        var str = '[align=left][b][color=rgb(153, 50, 204)][font=宋体][size=13.5pt]网特邀会员宝宝去[/size][/font][/color][/b][b][font=宋体][size=13.5pt]童音国际音乐早教中心[/size][/font][/b][b][color=rgb(153, 50, 204)][font=宋体][size=9pt]参加音乐课程，为[/size][/font][/color][/b][b][color=darkorchid][font=宋体][size=12.0pt]广大爱好音乐的小朋友们提供学习和交流音乐的机会。童音精选四弦吉他和非洲鼓两种代表性乐器，开设尤克里里、非洲鼓两大公开课堂[/size][/font][/color][/b][b][color=darkorchid][font=&quot;][size=12.0pt], [/size][/font][/color][/b][b][color=darkorchid][font=宋体][size=12.0pt]在这里您可以带着您的宝宝免费练琴，享受专业的教师指导，培养孩子节奏、听音、读谱等综合性音乐学习能力，在短时间内学习成品歌曲，并为学习专业乐器打下坚实基础。[/size][/font][/color][/b][size=9pt][/size][/align]';

        colorDeal(str);
    </script>
</body>
</html>